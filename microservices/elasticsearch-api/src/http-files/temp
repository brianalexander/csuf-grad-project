DELETE /comment

PUT /comment
{
  "settings": {
    "number_of_shards": 1
  },
  "mappings": {
    "properties": {
      "id": {"type":"keyword"},
      "moderatedCount": {"type":"short"},
      "flagged": {"type":"boolean"},
      "text": {"type":"text"},
      "scores": {"type":"object"},
      "embedding": {"type":"dense_vector", "dims": 768},
      "tags": {"type":"keyword"},
      "bin": {"type":"keyword"}
    }
  }
}

GET /comment

POST /comment/_doc
{
  "id": "asdf23",
  "moderatedCount": 0,
  "flagged": "false",
  "text": "I like birds.",
  "scores": [
    {"text": "Hate Speech", "value": 0.11}, 
    {"text": "Toxicity", "value": 0.22}, 
    {"text": "Offensiveness", "value": 0.33}
  ],
  "embedding": [
    -2.12829754e-01,  3.31974238e-01,  1.97257042e-01, -1.47754967e-01,
      7.33849108e-02, -2.39626691e-01,  5.63821793e-02,  3.38426679e-01,
      1.70471221e-02, -5.90033568e-02, -3.96660715e-01,  1.36688545e-01,
      1.97030187e-01,  3.21211033e-02, -5.63595533e-01,  2.73744702e-01,
      3.37339453e-02,  6.53870285e-01, -2.85684112e-02,  2.47567728e-01,
      1.11851133e-01, -2.31610313e-01, -3.57529521e-03, -2.25016475e-01,
     -2.49246851e-01,  1.80000544e-01, -8.96855965e-02,  3.32703412e-01,
      2.62855198e-02,  9.23535507e-03, -2.09715083e-01, -1.73993483e-01,
      5.37710749e-02,  2.42918715e-01, -4.24760461e-01, -4.10365969e-01,
      1.25098482e-01, -2.33127847e-01,  1.38717964e-01, -1.97857276e-01,
      2.29381561e-01, -2.09050730e-01,  3.64251733e-01,  3.96910757e-01,
     -2.65135467e-02, -2.66915172e-01,  3.08151841e-02, -3.37249666e-01,
      3.14545296e-02,  1.81004032e-01, -6.55384660e-02,  4.03207421e-01,
     -8.37084875e-02, -3.31857540e-02, -2.19640955e-01, -1.95921913e-01,
     -8.27958584e-02,  1.05319656e-01, -3.28113168e-01,  2.79128015e-01,
     -2.76754975e-01,  5.35348356e-01,  1.08783357e-01,  1.51504412e-01,
      2.93363541e-01, -3.48898582e-02,  3.03698093e-01,  3.28131944e-01,
     -1.96321085e-01,  1.86594084e-01, -8.38362351e-02,  2.82257438e-01,
     -9.90839824e-02, -9.03714076e-02, -1.20491572e-01,  4.94460948e-02,
      1.48599967e-01, -1.31899849e-01, -7.13962764e-02, -1.64465960e-02,
     -1.61505654e-01,  3.57399553e-01, -2.41172135e-01,  3.64313155e-01,
      1.12832375e-01, -1.56090602e-01, -2.35392869e-01,  2.18192637e-02,
      2.31299952e-01, -2.18227148e-01, -2.61750340e-01,  4.07375574e-01,
     -1.86350212e-01,  1.71438217e-01,  1.20153509e-01, -1.71829268e-01,
     -1.13809206e-01, -2.06863448e-01, -5.67013212e-02,  3.51324648e-01,
     -1.91489384e-01,  3.29591841e-01,  3.60907823e-01, -7.08434060e-02,
     -2.20679436e-02, -5.34766257e-01,  3.01738143e-01, -2.40162507e-01,
      2.05988541e-01, -2.20105648e-01,  6.96798146e-04,  2.54095256e-01,
     -1.27498820e-01, -1.07000358e-01,  4.14687723e-01,  9.24370065e-02,
     -1.13928080e-01, -2.16091856e-01, -2.36594215e-01,  5.09766638e-01,
     -1.40406370e-01, -2.23360062e-02,  4.95129228e-02, -2.87357897e-01,
     -2.90018767e-01, -2.36463800e-01,  2.52538592e-01, -1.94060847e-01,
     -1.27683327e-01,  1.57469347e-01,  2.61835366e-01,  1.31173387e-01,
     -9.19959415e-03, -2.37634242e-01, -1.44334361e-01,  2.29352236e-01,
     -1.71360806e-01,  2.46201470e-01,  3.02566379e-01, -1.32029029e-02,
      1.84997916e-02,  3.05025071e-01, -4.36209679e-01,  1.44391775e-01,
      1.22167371e-01,  4.60407026e-02, -1.51086941e-01, -1.58055857e-01,
      3.06537692e-02,  1.70671239e-01, -2.15077683e-01,  2.38276020e-01,
     -2.17966065e-01,  4.11698967e-01,  3.90902646e-02,  1.32074535e-01,
      4.78270203e-01, -4.17035013e-01, -1.01322688e-01,  1.70696720e-01,
      2.52399087e-01, -9.06497240e-04,  2.74164975e-02,  1.44224420e-01,
      1.91853512e-02,  2.29567736e-02, -1.98740467e-01, -1.17159672e-01,
     -2.32095346e-01,  2.90887535e-01, -1.98451817e-01, -4.27738786e-01,
      1.05108611e-01, -8.61983597e-02,  2.29259595e-01, -5.02640419e-02,
      2.07135692e-01, -3.30505162e-01,  5.27068973e-02,  3.01611096e-01,
      1.58460081e-01,  3.31938088e-01, -3.09164170e-02,  3.73553395e-01,
     -1.30511979e-02, -6.90957725e-01,  2.20686600e-01,  3.11806891e-02,
      2.37862304e-01,  8.11852589e-02, -6.55316710e-02,  3.63176353e-02,
      1.17720932e-01, -2.73510784e-01,  3.03274225e-02,  5.61628997e-01,
     -2.67264936e-02, -1.41309977e-01,  7.08419979e-01,  1.18628263e-01,
      1.79410771e-01,  5.36280014e-02,  2.61467546e-02, -3.55224639e-01,
      3.60482223e-02, -8.39275792e-02,  1.96383834e-01, -9.41151381e-03,
      1.23424388e-01, -3.15380812e-01,  8.02680552e-02, -3.73942889e-02,
     -3.54380339e-01,  2.10109308e-01, -9.29277167e-02, -3.37788254e-01,
     -1.02077343e-01,  4.51752394e-01,  1.71933696e-01,  2.41382346e-01,
      1.74446896e-01,  1.68029115e-01,  4.02680516e-01, -2.64329761e-01,
      3.80864926e-02,  9.72460210e-02, -1.19236797e-01, -1.81828532e-02,
      4.22236800e-01, -1.79705754e-01, -6.76968247e-02,  5.60949743e-02,
     -9.48076844e-02,  7.38309547e-02,  1.79153886e-02,  1.80591390e-01,
     -2.63051037e-02,  6.82253763e-02,  1.65657535e-01, -1.33109987e-01,
     -2.40411118e-01, -2.43641529e-02, -7.06505179e-02,  9.81034413e-02,
     -1.74338266e-01, -4.00774717e-01,  1.81328561e-02,  1.76908687e-01,
      1.50501296e-01, -3.27089548e-01,  2.66763210e-01, -1.36322379e-01,
      3.57065886e-01, -7.28298053e-02, -4.13333654e-01, -4.10935842e-02,
      4.02189612e-01,  1.07859105e-01, -2.27797031e-02, -1.86643973e-01,
     -6.58794269e-02, -1.99006841e-01, -1.54511794e-01, -6.84945956e-02,
     -2.96552211e-01, -4.00406271e-01, -2.36116007e-01, -2.73449749e-01,
      3.87028605e-01, -8.41166005e-02, -1.99993085e-02,  6.10330552e-02,
     -2.50343489e-03, -1.75795853e-02, -2.64902145e-01, -3.59615922e-01,
      2.95629557e-02, -2.03714058e-01, -6.17016613e-01,  1.47575274e-01,
      3.48206051e-02, -1.08117675e-02,  2.51363486e-01,  1.44861355e-01,
      1.33256420e-01, -1.83212444e-01, -1.39651999e-01,  3.11789121e-02,
     -1.43425867e-01,  1.05776064e-01,  3.80436964e-02, -4.20255691e-01,
     -2.70721823e-01,  1.86095193e-01,  3.85585949e-02,  3.15054029e-01,
     -1.45178556e-01, -1.38913663e-02,  6.84067905e-02, -6.72159195e-01,
      2.54350994e-02, -3.66715401e-01,  2.14486882e-01,  1.17710888e-01,
     -2.82775760e-01,  4.28012252e-04,  2.66909855e-03,  1.54612377e-01,
     -4.75689411e-01, -1.69283673e-01, -3.10517941e-02,  7.33375698e-02,
     -1.50056377e-01,  3.10784966e-01, -2.15319291e-01,  2.20788464e-01,
     -2.59318680e-01, -2.53288180e-01,  7.64302909e-02,  4.96469498e-01,
      1.80447862e-01,  7.98528548e-03, -1.66583061e-01,  4.62388210e-02,
     -1.54568478e-01,  1.80548504e-01, -2.91635424e-01,  5.54655075e-01,
     -3.84243322e-03, -1.34717718e-01, -6.02171659e-01,  2.99399883e-01,
      5.96793406e-02,  2.76020795e-01, -1.98455989e-01, -1.26844466e-01,
      8.79405439e-02,  1.48987070e-01,  1.47006989e-01, -2.24202290e-01,
      2.21727610e-01,  1.99799255e-01, -2.71996737e-01, -4.78018932e-02,
     -2.17773974e-01, -6.88373670e-02,  1.04799278e-01, -9.97861400e-02,
     -2.74460074e-02,  3.73852819e-01,  3.84457819e-02,  1.42796263e-01,
      2.47275576e-01, -2.31278583e-01,  3.55553716e-01,  1.70773879e-01,
      1.07897729e-01,  8.87164176e-02, -1.03544243e-01,  1.62210867e-01,
     -2.20378473e-01,  2.26598978e-01, -9.89704058e-02, -4.22096290e-02,
      5.31777322e-01, -2.03743339e-01, -3.34138870e-01,  3.69848579e-01,
      1.66106448e-01, -1.34840980e-02,  1.58025101e-01, -2.59910673e-01,
      1.43814608e-01, -3.05254221e-01,  1.75231531e-01, -7.26584569e-02,
     -8.05959642e-01,  2.20476508e-01, -6.68993592e-03, -7.85968676e-02,
      1.24379553e-01, -1.32182479e-01,  8.06518570e-02, -2.57781744e-02,
      3.01066548e-01, -1.94965657e-02, -3.34840524e-03, -5.19247055e-01,
      1.27833458e-02, -2.36112881e-03,  1.18664868e-01,  5.38836718e-02,
     -1.77842960e-01, -5.09786308e-01,  9.29260775e-02,  2.06991076e-01,
      1.14878811e-01,  4.53542136e-02, -4.76845689e-02,  1.71579327e-02,
     -3.30851488e-02, -3.89409631e-01, -2.38787577e-01,  2.49654755e-01,
     -1.66055426e-01,  1.68004707e-01, -1.50883533e-02,  3.82048845e-01,
     -2.69984037e-01, -2.14367554e-01,  3.80426437e-01,  1.33116409e-01,
      1.79320619e-01, -2.36019433e-01,  4.40860875e-02, -1.60011545e-01,
     -9.52789560e-02, -3.44178349e-01, -4.69350256e-02,  4.32576984e-02,
     -1.53675020e-01,  2.47628987e-01, -1.38918281e-01,  1.60226420e-01,
     -2.78508991e-01,  3.50744486e-01, -1.50179744e-01, -2.72517771e-01,
      2.33190563e-02, -7.29644001e-02,  4.25380953e-02, -1.91015840e-01,
     -1.14803344e-01,  1.58615842e-01, -3.63289379e-02, -7.28361681e-02,
      8.85030851e-02, -5.88558875e-02, -2.10796416e-01,  1.44243732e-01,
      6.17410727e-02,  4.28959839e-02, -3.16438414e-02, -1.84933797e-01,
     -1.95764884e-01,  3.16798873e-02,  1.85970798e-01,  1.08391225e-01,
     -2.65843511e-01,  2.39843175e-01,  4.10307683e-02, -5.83101809e-01,
     -3.13404590e-01,  2.39454046e-01,  5.18300273e-02, -1.45035893e-01,
      1.99036691e-02, -7.77989924e-02, -4.38016415e-01,  1.19446218e-01,
      1.32496104e-01, -1.56422615e-01, -5.75911462e-01,  2.00572982e-01,
      1.51340917e-01,  8.09089169e-02,  3.34887318e-02, -1.02684246e-02,
      2.08822295e-01, -1.55556664e-01,  1.96573496e-01, -3.58043283e-01,
      2.62216806e-01,  2.05536947e-01, -7.45462999e-02,  2.06553504e-01,
     -2.47478709e-01, -5.41910082e-02,  1.73388645e-01,  1.74865708e-01,
      7.14535117e-02, -3.16906981e-02, -1.17056601e-01,  3.49885821e-02,
     -2.71319330e-01,  2.65283394e-03,  1.79332241e-01,  3.46383452e-03,
      2.35511307e-02,  2.81587709e-02, -2.89357185e-01, -5.28002977e-02,
     -4.07758385e-01, -1.19222077e-02,  1.28126037e+00,  2.02239886e-01,
      6.59028301e-03,  3.71550806e-02,  6.76523671e-02,  2.80058775e-02,
      2.28379760e-02, -7.13983774e-02,  4.13366705e-01,  3.26808006e-01,
      1.33850262e-01,  4.76836652e-01,  2.82236218e-01, -3.35708231e-01,
      1.08674569e-02, -3.04956287e-02, -1.11460954e-01,  3.37613374e-01,
     -4.12211381e-02,  2.98506413e-02, -1.05847508e-01,  3.14551324e-01,
     -2.33445659e-01,  1.82337403e-01,  1.57262877e-01, -1.97552368e-01,
     -3.08466945e-02,  1.06134444e-01,  2.12548658e-01,  1.87805891e-01,
     -1.73599515e-02, -1.23794727e-01,  2.59878874e-01, -5.77259064e-03,
     -7.35785365e-02, -1.31256506e-01,  8.73235092e-02, -2.05090921e-02,
      9.72399488e-02,  2.80448049e-01, -4.26640987e-01,  9.43465065e-03,
     -4.04389910e-02,  2.91034374e-02,  9.63670611e-02,  9.25194994e-02,
     -1.53439626e-01, -3.14221650e-01, -3.48895937e-01, -1.95344850e-01,
      9.31910947e-02, -9.04887691e-02,  3.08445096e-01, -1.75174937e-01,
      4.06215936e-01,  7.69982114e-02,  9.21811759e-02, -1.14282370e-01,
     -1.02722168e-01,  9.10647511e-02,  1.01973049e-01,  2.39607289e-01,
     -1.77588776e-01,  2.73060471e-01,  4.47795838e-02, -4.22338396e-01,
     -3.23946811e-02,  6.27374873e-02,  4.34912771e-01, -1.21051865e-02,
      1.85046390e-01,  2.75142401e-01, -1.30965725e-01,  2.40840539e-01,
      1.18862845e-01, -3.00262302e-01,  3.53964120e-01, -3.80126953e-01,
      1.38509139e-01, -1.15708031e-01, -1.09457739e-01,  3.97012345e-02,
     -3.00766528e-02,  1.40975311e-01,  1.69295371e-02,  1.38769997e-02,
      2.39464954e-01, -5.99072911e-02, -4.94240522e-02,  2.99290776e-01,
      4.26857881e-02,  1.06040053e-01, -6.31854236e-01,  3.46764237e-01,
     -3.15339655e-01,  2.84642607e-01,  3.45863700e-01, -3.15398932e-01,
     -1.77889526e-01,  2.01391026e-01, -1.46114647e-01,  4.39423658e-02,
      2.97965616e-01, -1.85582593e-01,  4.55436297e-02, -1.25331953e-01,
     -2.45113373e-01, -2.57311255e-01,  2.84371525e-01, -7.20569268e-02,
     -1.58203080e-01, -2.53844172e-01,  2.54872859e-01,  9.08897519e-02,
      6.56478226e-01,  3.33659738e-01,  5.86547516e-02,  3.48391943e-02,
      1.68588445e-01,  2.00060487e-01,  3.34307343e-01, -2.77460545e-01,
      5.86738586e-02, -3.13142419e-01, -3.83172929e-02, -4.27420497e-01,
      4.22362328e-01, -2.36851573e-02, -1.94786917e-02,  2.55080134e-01,
     -3.25841337e-01,  1.18478604e-01, -1.26745224e-01, -1.35922298e-01,
     -1.65332124e-01,  3.57025653e-01, -1.07436329e-01,  9.63962078e-02,
     -2.73487210e-01, -7.19099343e-02, -7.12550208e-02, -2.35105932e-01,
      8.34025145e-02, -1.23003446e-01,  4.01674509e-01, -2.02810876e-02,
     -3.14961076e-02, -1.57274112e-01,  3.76961470e-01, -1.97120026e-01,
      2.93580089e-02,  3.75366248e-02, -2.35269830e-01, -4.28442478e-01,
      1.50179133e-01,  1.75661996e-01, -5.91616519e-02, -6.39312327e-01,
      9.94813442e-03, -1.40759066e-01, -1.75934937e-02, -7.67632723e-02,
      1.52186960e-01,  1.46883667e-01, -6.67962849e-01, -6.09300993e-02,
      9.93202701e-02,  4.00531530e-01,  1.51267812e-01,  1.63920447e-01,
      2.52938360e-01,  9.79223922e-02,  1.84470668e-01,  2.34932471e-02,
      4.37843204e-02,  1.58700347e-03, -9.06309411e-02, -4.08176593e-02,
      4.11328077e-01,  1.20508177e-02,  4.29571420e-02, -1.02957219e-01,
      8.41650888e-02, -4.79838401e-01, -4.40817922e-01,  1.06696986e-01,
     -3.17679048e-02,  5.63224107e-02,  2.67935604e-01,  2.37961169e-02,
      4.83659357e-01,  9.34894010e-02,  6.56378195e-02, -3.04743554e-02,
      2.59020418e-01, -3.04129329e-02,  6.87584877e-01,  7.00093433e-02,
      2.33311459e-01, -1.91842839e-01,  5.24084866e-01, -1.29426703e-01,
     -1.34225860e-01,  1.23800181e-01,  1.64442793e-01,  4.06971760e-02,
     -1.77789614e-01, -3.80414218e-01, -1.77573249e-01, -1.49551570e-01,
     -1.32061556e-01,  1.37304157e-01, -1.53567061e-01,  3.08177859e-01,
     -8.62762332e-02, -7.68116489e-02,  1.48279294e-02,  6.35539666e-02,
     -1.58903375e-01, -2.06030682e-01, -8.15693811e-02, -7.30646253e-02,
      1.76645160e-01,  2.37318262e-01, -1.22486658e-01,  1.21649809e-01,
      2.68814355e-01,  3.13391425e-02,  3.75757217e-01,  1.47565663e-01,
     -1.99930727e-01,  1.66364223e-01,  1.76544562e-01, -3.01589161e-01,
      1.82972312e-01,  1.35848835e-01, -2.42937401e-01, -4.68119793e-02,
      2.38892496e-01, -6.11826479e-02,  2.81778481e-02,  3.06911975e-01,
     -1.76071629e-01, -2.60774698e-02,  1.77337781e-01, -5.54935336e-02,
     -5.90424478e-01, -1.20981216e-01,  5.98446190e-01,  1.71598613e-01,
     -2.06821084e-01, -1.86671674e-01,  1.03452899e-01,  2.83368349e-01,
     -1.53144851e-01,  2.07793474e-01,  5.83814323e-01,  5.59746325e-01,
     -2.27590963e-01, -1.83027145e-02,  4.92558368e-02, -1.87279284e-01,
      4.72761869e-01, -4.61610705e-02, -2.64660925e-01, -9.07294080e-02,
     -1.60133652e-02,  5.31024346e-03,  8.27119276e-02,  2.67105907e-01,
      1.33250505e-01,  3.85990858e-01, -1.67602167e-01, -2.32906267e-01
  ],
  "tags": ["offensive", "pizza", "chicken"],
  "bin" "high"
}

# sysctl -w vm.max_map_count=262144